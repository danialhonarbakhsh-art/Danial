<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ØªØ³Øª OpenRouter + Grok (Ø¨Ø§ Ú©Ù„ÛŒØ¯)</title>
    <style>
        body { font-family: Tahoma; text-align: center; margin: 60px; background: #f0f8ff; }
        input, button { padding: 12px; margin: 10px; font-size: 16px; border-radius: 5px; }
        button { background: #1a73e8; color: white; border: none; cursor: pointer; }
        #result { margin-top: 20px; color: #27ae60; font-weight: bold; padding: 20px; background: white; border-radius: 10px; border-left: 5px solid #1a73e8; }
        #tokens { color: #7f8c8d; font-size: 12px; margin-top: 10px; }
        .error { color: red; border-left-color: red; }
        .success { color: green; }
    </style>
</head>
<body>
    <h1>ØªØ³Øª Grok Ø¨Ø§ OpenRouter (Ú©Ù„ÛŒØ¯ ÙØ¹Ø§Ù„) ğŸš€</h1>
    <p>Ø§Ø³Ù…Øª Ø±Ùˆ Ø¨Ù†ÙˆÛŒØ³ØŒ Grok ØªØ­Ù„ÛŒÙ„ Ú©Ù†Ù‡ (ØªØ§ Û±Û° Ù…ÛŒÙ„ÛŒÙˆÙ† ØªÙˆÚ©Ù† Ø±Ø§ÛŒÚ¯Ø§Ù†!)</p>
    <input id="nameInput" placeholder="Ø§Ø³Ù…Øª Ø±Ùˆ Ø¨Ù†ÙˆÛŒØ³...">
    <br>
    <button onclick="askGrok()">Ø¨Ù¾Ø±Ø³ Ø§Ø² Grok</button>
    <div id="result"></div>
    <div id="tokens"></div>

    <script>
        async function askGrok() {
            const name = document.getElementById('nameInput').value.trim();
            if (!name) { alert('Ø§Ø³Ù… Ø±Ùˆ Ø¨Ù†ÙˆÛŒØ³!'); return; }

            const resultDiv = document.getElementById('result');
            const tokensDiv = document.getElementById('tokens');
            resultDiv.innerHTML = 'Ø¯Ø± Ø­Ø§Ù„ ÙÚ©Ø±... (Grok-3 Mini)';
            resultDiv.className = '';
            tokensDiv.innerHTML = '';

            try {
                const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Bearer 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',
                        'Content-Type': 'application/json',
                        'HTTP-Referer': window.location.href,
                        'X-Title': 'Danial AI Lab'
                    },
                    body: JSON.stringify({
                        model: 'x-ai/grok-3-mini',
                        messages: [
                            { role: 'system', content: 'ØªÙˆ ØªØ­Ù„ÛŒÙ„â€ŒÚ¯Ø± Ø§Ø³Ø§Ù…ÛŒ. Ù…Ø¹Ù†ÛŒØŒ Ø±ÛŒØ´Ù‡ØŒ Ø­Ø³ Ùˆ Ø­Ø§Ù„ Ø±Ùˆ Ø¨Ú¯Ùˆ. Ú©ÙˆØªØ§Ù‡ Ùˆ Ø¬Ø°Ø§Ø¨.' },
                            { role: 'user', content: `Ø§Ø³Ù… "${name}" Ø±Ùˆ ØªØ­Ù„ÛŒÙ„ Ú©Ù†.` }
                        ],
                        max_tokens: 100,
                        temperature: 0.7
                    })
                });

                const data = await response.json();
                console.log('Ù¾Ø§Ø³Ø®:', data);

                if (data.choices && data.choices[0]) {
                    resultDiv.innerHTML = `<strong>ØªØ­Ù„ÛŒÙ„ Grok:</strong><br>${data.choices[0].message.content}`;
                    resultDiv.className = 'success';
                    if (data.usage) {
                        tokensDiv.innerHTML = `ØªÙˆÚ©Ù†â€ŒÙ‡Ø§: Input ${data.usage.prompt_tokens} + Output ${data.usage.completion_tokens} = ${data.usage.total_tokens} (Ø±Ø§ÛŒÚ¯Ø§Ù†!)`;
                    }
                } else {
                    resultDiv.className = 'error';
                    resultDiv.innerHTML = '<strong>Ø®Ø·Ø§:</strong> ' + (data.error?.message || 'Ù…Ø´Ú©Ù„ Ø¯Ø± API');
                }
            } catch (error) {
                resultDiv.className = 'error';
                resultDiv.innerHTML = '<strong>Ø®Ø·Ø§:</strong> ' + error.message;
            }
        }
    </script>
</body>
</html>